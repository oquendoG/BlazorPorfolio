@page "/admin/categories"

<main class="admin-area-main">

	<SideBar></SideBar>

	<div class="admin-area-content container-fluid bg-white">
		<div class="row g-0">
			<div class="col">
				<h1>Categories</h1>
				<br />
				<hr />
				<br />
			</div>
		</div>
	</div>
</main>

@implements IDisposable
@code {
	[Inject] InMemoryDataBaseCache InMemoryDataBaseCache { get; set; }

	protected override async Task OnInitializedAsync()
	{
		InMemoryDataBaseCache.OnCategoriesDataChanged += StateHasChanged;
		if (InMemoryDataBaseCache.Categories is null)
		{
			await InMemoryDataBaseCache.GetCategoriesFromDatabaseAndCache();
		}
	}

	public void Dispose() => InMemoryDataBaseCache.OnCategoriesDataChanged -= StateHasChanged;
}
